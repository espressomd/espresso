language: cpp
dist: trusty
sudo: false

addons:
  apt:
    packages:
      - git

before_install:
# - if [[ ${CC} = gcc ]]; then export CC="gcc-${GVER}" CXX="g++-${GVER}"; fi
 - git clone git://github.com/fsquillace/junest ~/junest
 - PATH=~/junest/bin:$PATH
 - junest -f -- pacman --noconfirm -Sy cython python2-pip python2-numpy vtk flake8 cmake gcc fftw openmpi hdf5-openmpi boost  boost-libs hdf5 tcl tk ccache base-devel python-numpy

#install:
# - conda install numpy cython pip vtk

env:
  global:
    - CCACHE_CPP2=yes
    - GVER=4.8
  matrix:
    - myconfig=default

compiler:
 - clang

script:
 - junest -- ./maintainer/travis/build_cmake.sh
